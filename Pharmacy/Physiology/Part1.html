<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gastrointestinal Tract Physiology Exam</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }
        
        body {
            background-color: #f5f9fc;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #1a6b9e 0%, #2c8cbb 100%);
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .exam-info {
            display: flex;
            justify-content: space-between;
            background-color: #e8f4fc;
            padding: 15px 25px;
            border-bottom: 1px solid #d0e6f2;
        }
        
        .progress-container {
            background-color: #e8f4fc;
            padding: 15px 25px;
            border-bottom: 1px solid #d0e6f2;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50 0%, #8BC34A 100%);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .question-container {
            padding: 30px;
            min-height: 400px;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .question-number {
            font-weight: bold;
            color: #1a6b9e;
            font-size: 1.2rem;
        }
        
        .question-text {
            font-size: 1.3rem;
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        .options-container {
            margin-bottom: 30px;
        }
        
        .option {
            background-color: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: flex-start;
        }
        
        .option:hover {
            background-color: #edf7ff;
            border-color: #b8d9f0;
        }
        
        .option.selected {
            background-color: #e3f2fd;
            border-color: #2196F3;
        }
        
        .option.correct {
            background-color: #e8f5e9;
            border-color: #4CAF50;
        }
        
        .option.incorrect {
            background-color: #ffebee;
            border-color: #f44336;
        }
        
        .option-letter {
            display: inline-block;
            width: 30px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            background-color: #e2e8f0;
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .option.selected .option-letter {
            background-color: #2196F3;
            color: white;
        }
        
        .option.correct .option-letter {
            background-color: #4CAF50;
            color: white;
        }
        
        .option.incorrect .option-letter {
            background-color: #f44336;
            color: white;
        }
        
        .feedback-container {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid #2196F3;
            display: none;
        }
        
        .feedback-container.show {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .feedback-title {
            font-weight: bold;
            color: #1a6b9e;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .feedback-title i {
            margin-right: 8px;
        }
        
        .explanation, .tip {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #ddd;
        }
        
        .explanation-title, .tip-title {
            font-weight: bold;
            color: #555;
            margin-bottom: 5px;
        }
        
        .tip {
            background-color: #fff8e1;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            padding: 20px 30px;
            background-color: #f8fafc;
            border-top: 1px solid #e2e8f0;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }
        
        .btn-prev {
            background-color: #f0f0f0;
            color: #555;
        }
        
        .btn-prev:hover {
            background-color: #e0e0e0;
        }
        
        .btn-next {
            background-color: #2196F3;
            color: white;
        }
        
        .btn-next:hover {
            background-color: #0b7dda;
        }
        
        .btn-submit {
            background-color: #4CAF50;
            color: white;
        }
        
        .btn-submit:hover {
            background-color: #3d8b40;
        }
        
        .btn:disabled {
            background-color: #e0e0e0;
            color: #aaa;
            cursor: not-allowed;
        }
        
        .result-container {
            padding: 40px;
            text-align: center;
            display: none;
        }
        
        .result-title {
            font-size: 2rem;
            color: #1a6b9e;
            margin-bottom: 20px;
        }
        
        .score {
            font-size: 3.5rem;
            font-weight: bold;
            color: #4CAF50;
            margin: 20px 0;
        }
        
        .score-breakdown {
            max-width: 600px;
            margin: 30px auto;
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
        }
        
        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eaeaea;
        }
        
        .breakdown-item:last-child {
            border-bottom: none;
        }
        
        .btn-restart {
            background-color: #1a6b9e;
            color: white;
            margin-top: 20px;
        }
        
        .btn-restart:hover {
            background-color: #15527a;
        }
        
        @media (max-width: 768px) {
            .question-container {
                padding: 20px;
            }
            
            .controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Gastrointestinal Tract Physiology Exam</h1>
            <p class="subtitle">Dr. Betsegaw M | MD | 70+ Multiple Choice Questions</p>
        </header>
        
        <div class="exam-info">
            <div><i class="fas fa-book-medical"></i> Covers all 5 major sections of GIT physiology</div>
            <div><i class="fas fa-brain"></i> Medium to Hard Difficulty</div>
            <div><i class="fas fa-clock"></i> Exam Mode with Immediate Feedback</div>
        </div>
        
        <div class="progress-container">
            <div>Progress: <span id="current-question">1</span> of <span id="total-questions">70</span></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
        
        <!-- Question Screen -->
        <div id="question-screen">
            <div class="question-container">
                <div class="question-header">
                    <div class="question-number">Question <span id="q-num">1</span></div>
                    <div id="q-topic">Structure of the Gastrointestinal Tract</div>
                </div>
                
                <div class="question-text" id="question-text">
                    Loading question...
                </div>
                
                <div class="options-container" id="options-container">
                    <!-- Options will be inserted here by JavaScript -->
                </div>
                
                <div class="feedback-container" id="feedback-container">
                    <div class="feedback-title"><i class="fas fa-info-circle"></i> Feedback</div>
                    <div id="feedback-text"></div>
                    
                    <div class="explanation">
                        <div class="explanation-title">Explanation:</div>
                        <div id="explanation-text"></div>
                    </div>
                    
                    <div class="tip">
                        <div class="tip-title">Memorization Tip:</div>
                        <div id="tip-text"></div>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-prev" id="prev-btn" disabled>
                    <i class="fas fa-arrow-left"></i> Previous
                </button>
                <button class="btn btn-next" id="next-btn">
                    Next <i class="fas fa-arrow-right"></i>
                </button>
                <button class="btn btn-submit" id="submit-btn" style="display: none;">
                    Submit Exam <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
        
        <!-- Results Screen -->
        <div class="result-container" id="result-screen">
            <h2 class="result-title">Exam Results</h2>
            <div class="score" id="final-score">0%</div>
            <p id="result-message"></p>
            
            <div class="score-breakdown">
                <h3>Performance Breakdown</h3>
                <div class="breakdown-item">
                    <span>Total Questions:</span>
                    <span id="total-questions-result">70</span>
                </div>
                <div class="breakdown-item">
                    <span>Correct Answers:</span>
                    <span id="correct-answers">0</span>
                </div>
                <div class="breakdown-item">
                    <span>Incorrect Answers:</span>
                    <span id="incorrect-answers">0</span>
                </div>
                <div class="breakdown-item">
                    <span>Accuracy:</span>
                    <span id="accuracy">0%</span>
                </div>
                <div class="breakdown-item">
                    <span>Time Spent:</span>
                    <span id="time-spent">0 min</span>
                </div>
            </div>
            
            <button class="btn btn-restart" id="restart-btn">
                <i class="fas fa-redo"></i> Restart Exam
            </button>
        </div>
    </div>

    <script>
        // Question database
        const questions = [
            // Section 1: Structure of the Gastrointestinal Tract (10 questions)
            {
                id: 1,
                topic: "Structure of the Gastrointestinal Tract",
                question: "Which of the following is NOT one of the four major activities of the GI tract?",
                options: [
                    "Motility",
                    "Secretion",
                    "Digestion",
                    "Excretion"
                ],
                correct: 3,
                explanation: "The four major activities of the GI tract are motility, secretion, digestion, and absorption. Excretion is a function of the large intestine but is not classified as one of the four primary activities of the entire GI tract.",
                tip: "Remember the mnemonic: 'My Stomach Does Absorb' for Motility, Secretion, Digestion, Absorption."
            },
            {
                id: 2,
                topic: "Structure of the Gastrointestinal Tract",
                question: "Which layer of the GI tract wall contains the muscularis mucosae?",
                options: [
                    "Submucosal layer",
                    "Mucosal layer",
                    "Muscularis externa",
                    "Serosal layer"
                ],
                correct: 1,
                explanation: "The mucosal layer consists of epithelial cells, lamina propria, and the muscularis mucosae. The muscularis mucosae is a thin layer of smooth muscle that causes local movements of the mucosa.",
                tip: "Remember: Mucosa = innermost layer, has muscularis mucosae. Submucosa = connective tissue, glands, vessels. Muscularis externa = main muscle layer. Serosa = outermost layer."
            },
            {
                id: 3,
                topic: "Structure of the Gastrointestinal Tract",
                question: "Which of the following is NOT considered an accessory organ of the digestive system?",
                options: [
                    "Pancreas",
                    "Gallbladder",
                    "Spleen",
                    "Salivary glands"
                ],
                correct: 2,
                explanation: "The spleen is part of the lymphatic system, not the digestive system. The accessory organs of the digestive system include the teeth, tongue, liver, pancreas, gallbladder, and salivary glands.",
                tip: "Accessory organs assist in digestion but are not part of the alimentary canal. The spleen filters blood and is part of the immune system."
            },
            {
                id: 4,
                topic: "Structure of the Gastrointestinal Tract",
                question: "The wall of the GI tract consists of multiple layers. Which layer contains blood vessels and glands?",
                options: [
                    "Mucosa",
                    "Submucosa",
                    "Muscularis externa",
                    "Serosa"
                ],
                correct: 1,
                explanation: "The submucosal layer contains connective tissue, blood vessels, lymphatic vessels, and glands. It lies between the mucosa and the muscularis externa.",
                tip: "Submucosa = 'under the mucosa', contains vessels and glands. Think: 'Sub' means under."
            },
            {
                id: 5,
                topic: "Structure of the Gastrointestinal Tract",
                question: "Which of the following correctly describes the muscularis externa of the GI tract?",
                options: [
                    "Contains only circular muscle fibers",
                    "Contains only longitudinal muscle fibers",
                    "Contains both circular and longitudinal muscle fibers",
                    "Contains skeletal muscle throughout the entire tract"
                ],
                correct: 2,
                explanation: "The muscularis externa typically consists of two layers of smooth muscle: an inner circular layer and an outer longitudinal layer. This arrangement allows for peristaltic movements.",
                tip: "Remember: 'Circular' squeezes (constricts), 'Longitudinal' shortens (propels). Together they create peristalsis."
            },
            {
                id: 6,
                topic: "Structure of the Gastrointestinal Tract",
                question: "Which organ is primarily responsible for the absorption of nutrients?",
                options: [
                    "Stomach",
                    "Esophagus",
                    "Small intestine",
                    "Large intestine"
                ],
                correct: 2,
                explanation: "The small intestine is the primary site for nutrient absorption due to its large surface area created by villi and microvilli. The stomach absorbs only limited substances like alcohol and some drugs.",
                tip: "Small intestine = absorption powerhouse. Large intestine = mainly absorbs water and electrolytes."
            },
            {
                id: 7,
                topic: "Structure of the Gastrointestinal Tract",
                question: "Which of the following is a function of the large intestine?",
                options: [
                    "Digestion of proteins",
                    "Absorption of most nutrients",
                    "Absorption of water and electrolytes",
                    "Production of digestive enzymes"
                ],
                correct: 2,
                explanation: "The large intestine primarily absorbs water and electrolytes, and stores fecal matter until defecation. It does not produce digestive enzymes and has minimal role in nutrient absorption.",
                tip: "Large intestine = 'drying and storage' organ. Remember: It reclaims water from the indigestible residue."
            },
            {
                id: 8,
                topic: "Structure of the Gastrointestinal Tract",
                question: "Which layer of the GI tract is in direct contact with the lumen?",
                options: [
                    "Serosa",
                    "Muscularis externa",
                    "Submucosa",
                    "Mucosa"
                ],
                correct: 3,
                explanation: "The mucosa is the innermost layer that lines the lumen of the GI tract. It consists of epithelium, lamina propria, and muscularis mucosae.",
                tip: "Mucosa = mucosal membrane = in contact with lumen. Think: Mucous membranes line body cavities open to the exterior."
            },
            {
                id: 9,
                topic: "Structure of the Gastrointestinal Tract",
                question: "Which of the following is NOT a function of the digestive system?",
                options: [
                    "Circulation of blood to carry away absorbed substances",
                    "Movement of food through the alimentary tract",
                    "Secretion of digestive juices",
                    "Production of red blood cells"
                ],
                correct: 3,
                explanation: "The digestive system does not produce red blood cells; that function belongs to the bone marrow. The digestive system functions include movement of food, secretion of digestive juices, digestion, absorption, and circulation of blood to carry away absorbed substances.",
                tip: "Remember the 5 main functions of the digestive system: Movement, Secretion, Digestion, Absorption, Circulation (MSDAC)."
            },
            {
                id: 10,
                topic: "Structure of the Gastrointestinal Tract",
                question: "Which part of the digestive tract has three layers of smooth muscle?",
                options: [
                    "Esophagus",
                    "Stomach",
                    "Small intestine",
                    "Large intestine"
                ],
                correct: 1,
                explanation: "The stomach has three layers of smooth muscle: outer longitudinal, middle circular, and inner oblique. This unique arrangement allows for the mechanical churning of food.",
                tip: "Stomach is unique with 3 muscle layers for churning. Other GI organs typically have 2 layers."
            },
            // Section 2: Innervation of the Gastrointestinal Tract (15 questions)
            {
                id: 11,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "Which part of the autonomic nervous system is primarily responsible for 'rest and digest' functions?",
                options: [
                    "Sympathetic nervous system",
                    "Parasympathetic nervous system",
                    "Enteric nervous system",
                    "Somatic nervous system"
                ],
                correct: 1,
                explanation: "The parasympathetic nervous system is responsible for 'rest and digest' functions, promoting digestion, absorption, and GI motility. The sympathetic nervous system is involved in 'fight or flight' responses and generally inhibits GI functions.",
                tip: "Parasympathetic = peace and digestion. Sympathetic = stress and suppression of digestion."
            },
            {
                id: 12,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "Where is the myenteric plexus (Auerbach's plexus) located?",
                options: [
                    "Between the mucosa and submucosa",
                    "Between the circular and longitudinal muscle layers",
                    "Within the lamina propria",
                    "Between the submucosa and circular muscle"
                ],
                correct: 1,
                explanation: "The myenteric plexus (Auerbach's plexus) is located between the longitudinal and circular muscle layers of the muscularis externa. It primarily controls motor activity (motility).",
                tip: "Myenteric = 'myo' (muscle) + 'enteric' (intestine) = between muscle layers. Controls motility."
            },
            {
                id: 13,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "Which plexus is primarily responsible for regulating absorption and secretion in the GI tract?",
                options: [
                    "Myenteric plexus",
                    "Submucosal plexus",
                    "Celiac plexus",
                    "Hypogastric plexus"
                ],
                correct: 1,
                explanation: "The submucosal plexus (Meissner's plexus) is located between the submucosa and circular muscle layer. It innervates glandular epithelium, blood vessels, and endocrine cells, regulating absorption and secretion.",
                tip: "Submucosal plexus = regulates secretion and absorption. Myenteric plexus = regulates motility."
            },
            {
                id: 14,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "What type of reflex is the receptive relaxation of the stomach?",
                options: [
                    "Somatic reflex",
                    "Spinal reflex",
                    "Vasovagal reflex",
                    "Crossed extensor reflex"
                ],
                correct: 2,
                explanation: "Receptive relaxation is a vasovagal reflex, meaning both the afferent and efferent limbs of the reflex are mediated by the vagus nerve. This reflex allows the stomach to accommodate incoming food without significant pressure increase.",
                tip: "Vasovagal reflex = both afferent and efferent pathways in vagus nerve. Important for receptive relaxation."
            },
            {
                id: 15,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "Which neurotransmitter is released from neurons to cause receptive relaxation of the stomach?",
                options: [
                    "Acetylcholine",
                    "Norepinephrine",
                    "VIP (Vasoactive Intestinal Peptide)",
                    "Substance P"
                ],
                correct: 2,
                explanation: "VIP (Vasoactive Intestinal Peptide) is released from neurons to cause receptive relaxation of the orad (upper) stomach when food enters. This reduces pressure and increases volume.",
                tip: "VIP = Vasoactive Intestinal Peptide = causes relaxation. Acetylcholine = contraction. Norepinephrine = inhibition."
            },
            {
                id: 16,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "Which of the following best describes the enteric nervous system?",
                options: [
                    "It is completely dependent on the autonomic nervous system",
                    "It can function independently of the CNS",
                    "It only controls motility, not secretion",
                    "It is part of the somatic nervous system"
                ],
                correct: 1,
                explanation: "The enteric nervous system (ENS) is an intrinsic nervous system that can function independently of the central nervous system. It contains complete reflex pathways and can coordinate GI functions without CNS input.",
                tip: "ENS = 'the brain in the gut' = can function autonomously. Contains as many neurons as the spinal cord!"
            },
            {
                id: 17,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "Sympathetic stimulation of the GI tract generally results in:",
                options: [
                    "Increased motility and secretion",
                    "Decreased motility and secretion",
                    "Increased motility but decreased secretion",
                    "Decreased motility but increased secretion"
                ],
                correct: 1,
                explanation: "Sympathetic stimulation generally inhibits GI functions - decreasing motility, secretion, and blood flow to the GI tract. This is part of the 'fight or flight' response, diverting resources away from digestion.",
                tip: "Sympathetic = 'shuts down' digestion during stress. Parasympathetic = 'turns on' digestion during rest."
            },
            {
                id: 18,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "Which cranial nerve provides parasympathetic innervation to most of the GI tract?",
                options: [
                    "Facial nerve (VII)",
                    "Glossopharyngeal nerve (IX)",
                    "Vagus nerve (X)",
                    "Hypoglossal nerve (XII)"
                ],
                correct: 2,
                explanation: "The vagus nerve (cranial nerve X) provides parasympathetic innervation to the esophagus, stomach, pancreas, gallbladder, small intestine, and proximal colon. The distal colon receives parasympathetic innervation from sacral spinal nerves.",
                tip: "Vagus nerve = 'wanderer' nerve = innervates most of the GI tract. Remember: 75% of parasympathetic fibers are in vagus."
            },
            {
                id: 19,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "What is the primary neurotransmitter released by parasympathetic nerves in the GI tract?",
                options: [
                    "Norepinephrine",
                    "Acetylcholine",
                    "Dopamine",
                    "Serotonin"
                ],
                correct: 1,
                explanation: "Parasympathetic nerves in the GI tract primarily release acetylcholine, which stimulates GI motility and secretion. Acetylcholine acts on muscarinic receptors in the GI tract.",
                tip: "Parasympathetic = cholinergic = acetylcholine. Sympathetic = adrenergic = norepinephrine."
            },
            {
                id: 20,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "Which of the following reflexes is triggered by distension of the stomach and increases colonic motility?",
                options: [
                    "Enterogastric reflex",
                    "Gastrocolic reflex",
                    "Ileogastric reflex",
                    "Coloileal reflex"
                ],
                correct: 1,
                explanation: "The gastrocolic reflex is triggered by distension of the stomach and increases motility of the colon, promoting mass movements. This helps make room for incoming food by moving contents along.",
                tip: "Gastrocolic reflex = stomach to colon. Often experienced as the urge to defecate after a meal."
            },
            {
                id: 21,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "What type of receptors in the GI mucosa relay information to the CNS for vasovagal reflexes?",
                options: [
                    "Mechano- and chemoreceptors",
                    "Thermoreceptors and nociceptors",
                    "Photoreceptors and baroreceptors",
                    "Proprioceptors and osmoreceptors"
                ],
                correct: 0,
                explanation: "The vagus nerve has both mechanoreceptors (responding to stretch) and chemoreceptors (responding to chemical changes) in the GI mucosa. These relay information to the CNS to trigger vasovagal reflexes.",
                tip: "Vagus nerve senses mechanical (stretch) and chemical changes in the gut. This info travels to brainstem."
            },
            {
                id: 22,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "Which of the following is an example of a long reflex in the GI tract?",
                options: [
                    "Myenteric reflex",
                    "Submucosal reflex",
                    "Gastrocolic reflex",
                    "Peristaltic reflex"
                ],
                correct: 2,
                explanation: "The gastrocolic reflex is a long reflex because it involves the CNS (afferent signals to spinal cord/brainstem and efferent signals back). Short reflexes are confined to the enteric nervous system.",
                tip: "Long reflexes involve CNS. Short reflexes are local, within ENS. Gastrocolic reflex is long; peristaltic reflex is short."
            },
            {
                id: 23,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "What is the effect of sympathetic stimulation on gastrointestinal sphincters?",
                options: [
                    "Relaxes all sphincters",
                    "Contracts all sphincters",
                    "Relaxes some and contracts others",
                    "Has no effect on sphincters"
                ],
                correct: 1,
                explanation: "Sympathetic stimulation generally contracts gastrointestinal sphincters (e.g., pyloric sphincter, ileocecal sphincter), which inhibits the movement of contents through the GI tract.",
                tip: "Sympathetic = 'closes the gates' (contracts sphincters). Parasympathetic = 'opens the gates' (relaxes sphincters)."
            },
            {
                id: 24,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "Which of the following is NOT a function of the enteric nervous system?",
                options: [
                    "Coordinating peristalsis",
                    "Regulating local blood flow",
                    "Controlling secretions",
                    "Conscious perception of hunger"
                ],
                correct: 3,
                explanation: "The enteric nervous system controls local GI functions like peristalsis, secretions, and blood flow, but conscious perception of hunger involves hypothalamic centers and is not controlled by the ENS.",
                tip: "ENS handles local reflexes. Hunger perception is central (hypothalamus)."
            },
            {
                id: 25,
                topic: "Innervation of the Gastrointestinal Tract",
                question: "What is the rectosphincteric reflex?",
                options: [
                    "Rectum contracts and internal anal sphincter relaxes when rectum fills",
                    "Rectum relaxes and internal anal sphincter contracts when rectum fills",
                    "Rectum and internal anal sphincter both contract when rectum fills",
                    "Rectum and internal anal sphincter both relax when rectum fills"
                ],
                correct: 0,
                explanation: "In the rectosphincteric reflex, when the rectum fills with feces, it contracts while the internal anal sphincter relaxes. The external anal sphincter remains under voluntary control.",
                tip: "Rectosphincteric reflex: Rectum contracts (pushes), internal sphincter relaxes (lets through). External sphincter is voluntary."
            },
            // Section 3: Gastrointestinal Regulatory Substances (15 questions)
            {
                id: 26,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which hormone is secreted by I-cells in response to fats and proteins in the duodenum?",
                options: [
                    "Gastrin",
                    "Secretin",
                    "Cholecystokinin (CCK)",
                    "Gastric inhibitory peptide (GIP)"
                ],
                correct: 2,
                explanation: "Cholecystokinin (CCK) is secreted by I-cells in the duodenum and jejunum in response to fatty acids and amino acids (fats and proteins). Its main functions include gallbladder contraction and pancreatic enzyme secretion.",
                tip: "CCK = 'Cholecysto' (gallbladder) + 'kinin' (move) = moves gallbladder. Released by I-cells for fats/proteins."
            },
            {
                id: 27,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which hormone stimulates the secretion of pancreatic bicarbonate to neutralize acid in the duodenum?",
                options: [
                    "Gastrin",
                    "Secretin",
                    "Cholecystokinin",
                    "Motilin"
                ],
                correct: 1,
                explanation: "Secretin is secreted by S-cells in the duodenum in response to acid. It stimulates pancreatic and biliary bicarbonate secretion to neutralize gastric acid in the duodenum, creating optimal pH for pancreatic enzymes.",
                tip: "Secretin = secreted for acid neutralization. Think: 'Secretin for bicarbonate'."
            },
            {
                id: 28,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which GI hormone is the only one stimulated by all nutrients (glucose, fatty acids, and amino acids)?",
                options: [
                    "Gastrin",
                    "Secretin",
                    "Cholecystokinin",
                    "Glucose-dependent insulinotropic peptide (GIP)"
                ],
                correct: 3,
                explanation: "GIP (Glucose-dependent Insulinotropic Peptide) is secreted by K-cells in the duodenum and jejunum and is stimulated by all nutrients: glucose, fatty acids, and amino acids. Its major function is stimulating insulin secretion.",
                tip: "GIP = 'Gastric Inhibitory Peptide' (old name) or 'Glucose-dependent Insulinotropic Peptide' - stimulated by all nutrients."
            },
            {
                id: 29,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which hormone is secreted by G-cells in the stomach antrum and stimulates gastric acid secretion?",
                options: [
                    "Secretin",
                    "Cholecystokinin",
                    "Gastrin",
                    "Motilin"
                ],
                correct: 2,
                explanation: "Gastrin is secreted by G-cells in the stomach antrum (and duodenum) and stimulates gastric acid secretion by parietal cells. It also promotes gastric mucosal growth.",
                tip: "Gastrin = Gastric acid stimulator. Secreted by G-cells in Gastric antrum."
            },
            {
                id: 30,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which of the following actions is NOT associated with cholecystokinin (CCK)?",
                options: [
                    "Contraction of the gallbladder",
                    "Secretion of pancreatic enzymes",
                    "Inhibition of gastric emptying",
                    "Stimulation of insulin secretion"
                ],
                correct: 3,
                explanation: "CCK causes gallbladder contraction, pancreatic enzyme secretion, and inhibition of gastric emptying. Stimulation of insulin secretion is primarily the function of GIP (Glucose-dependent Insulinotropic Peptide).",
                tip: "CCK = gallbladder contraction, pancreatic enzymes, slows gastric emptying. GIP = stimulates insulin secretion."
            },
            {
                id: 31,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which hormone regulates migrating myoelectric complexes (MMCs) that clear the stomach between meals?",
                options: [
                    "Gastrin",
                    "Secretin",
                    "Cholecystokinin",
                    "Motilin"
                ],
                correct: 3,
                explanation: "Motilin regulates migrating myoelectric complexes (MMCs), which are periodic gastric contractions occurring at 90-minute intervals between meals. MMCs function to clear the stomach of residual food.",
                tip: "Motilin = Motility between meals. Regulates MMCs every 90 minutes."
            },
            {
                id: 32,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which substance, released by adipose tissue, inhibits appetite by acting on hypothalamic centers?",
                options: [
                    "Ghrelin",
                    "Leptin",
                    "Neuropeptide Y",
                    "GLP-1"
                ],
                correct: 1,
                explanation: "Leptin is released by adipose tissue and inhibits appetite by acting on anorexigenic neurons in the hypothalamus. It signals satiety and increases energy expenditure.",
                tip: "Leptin = from fat cells, inhibits appetite. Ghrelin = from stomach, stimulates appetite."
            },
            {
                id: 33,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which appetite-stimulating hormone is secreted by the stomach when empty?",
                options: [
                    "Leptin",
                    "Ghrelin",
                    "Peptide YY",
                    "GLP-1"
                ],
                correct: 1,
                explanation: "Ghrelin is secreted by the stomach when empty and stimulates appetite by acting on orexigenic neurons in the hypothalamus. It's often called the 'hunger hormone'.",
                tip: "Ghrelin = 'Growl' hormone (stomach growling when hungry). From stomach, stimulates appetite."
            },
            {
                id: 34,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which hypothalamic nucleus is considered the satiety center?",
                options: [
                    "Lateral hypothalamic area",
                    "Ventromedial nucleus",
                    "Arcuate nucleus",
                    "Paraventricular nucleus"
                ],
                correct: 1,
                explanation: "The ventromedial nucleus (VMN) of the hypothalamus is the satiety center. The lateral hypothalamic area (LHA) is the feeding center. The arcuate nucleus integrates signals.",
                tip: "VMN = VentroMedial Nucleus = Satiety center. LHA = Lateral Hypothalamic Area = Feeding center."
            },
            {
                id: 35,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which of the following substances inhibits appetite?",
                options: [
                    "Neuropeptide Y",
                    "Ghrelin",
                    "Peptide YY",
                    "Orexin"
                ],
                correct: 2,
                explanation: "Peptide YY (PYY) is released by the ileum and colon after meals and inhibits appetite. Neuropeptide Y, ghrelin, and orexin are appetite stimulants.",
                tip: "PYY = Post-meal satiety signal from ileum/colon. Inhibits appetite."
            },
            {
                id: 36,
                topic: "Gastrointestinal Regulatory Substances",
                question: "What is the primary function of glucose-dependent insulinotropic peptide (GIP)?",
                options: [
                    "Stimulate gastric acid secretion",
                    "Stimulate insulin secretion",
                    "Inhibit gastric emptying",
                    "Stimulate pancreatic enzyme secretion"
                ],
                correct: 1,
                explanation: "The primary function of GIP is to stimulate insulin secretion from pancreatic beta cells in response to nutrients in the duodenum. This is part of the 'incretin effect'.",
                tip: "GIP = major incretin hormone. Stimulates insulin release when nutrients are in the gut."
            },
            {
                id: 37,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which hormone's secretion is stimulated by acid in the duodenum?",
                options: [
                    "Gastrin",
                    "Secretin",
                    "Cholecystokinin",
                    "Motilin"
                ],
                correct: 1,
                explanation: "Secretin secretion is stimulated by acid (low pH) in the duodenum. It then stimulates bicarbonate secretion to neutralize the acid.",
                tip: "Acid in duodenum → Secretin → Bicarbonate secretion → Neutralization."
            },
            {
                id: 38,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which of the following is a paracrine regulator in the GI tract?",
                options: [
                    "Gastrin",
                    "Secretin",
                    "Histamine",
                    "Cholecystokinin"
                ],
                correct: 2,
                explanation: "Histamine acts as a paracrine regulator in the stomach, where it is released by enterochromaffin-like (ECL) cells and acts locally on parietal cells to stimulate acid secretion.",
                tip: "Paracrines act locally. Histamine from ECL cells stimulates nearby parietal cells."
            },
            {
                id: 39,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which substance is released by anorexigenic neurons in the arcuate nucleus to decrease appetite?",
                options: [
                    "Neuropeptide Y",
                    "Agouti-related protein",
                    "POMC (pro-opiomelanocortin)",
                    "Orexin"
                ],
                correct: 2,
                explanation: "Anorexigenic (appetite-suppressing) neurons in the arcuate nucleus release POMC (pro-opiomelanocortin), which is processed to α-MSH, a potent appetite inhibitor.",
                tip: "Anorexigenic neurons release POMC → α-MSH → decreases appetite. Orexigenic neurons release NPY → increases appetite."
            },
            {
                id: 40,
                topic: "Gastrointestinal Regulatory Substances",
                question: "Which GI hormone also acts as a neurotransmitter in the brain?",
                options: [
                    "Gastrin",
                    "Secretin",
                    "Cholecystokinin",
                    "Motilin"
                ],
                correct: 2,
                explanation: "Cholecystokinin (CCK) acts as both a GI hormone and a neurotransmitter in the brain, where it is involved in satiety signaling and anxiety regulation.",
                tip: "CCK has dual role: hormone in gut (digestion), neurotransmitter in brain (satiety/anxiety)."
            },
            // Section 4: Gastrointestinal Motility (15 questions)
            {
                id: 41,
                topic: "Gastrointestinal Motility",
                question: "What are the pacemaker cells for GI smooth muscle that generate slow waves?",
                options: [
                    "Parietal cells",
                    "Enterochromaffin cells",
                    "Interstitial cells of Cajal",
                    "Chief cells"
                ],
                correct: 2,
                explanation: "Interstitial cells of Cajal (ICCs) are the pacemaker cells of the GI tract. They generate slow waves, which are rhythmic oscillations in membrane potential that determine the frequency of contractions.",
                tip: "Interstitial cells of Cajal = GI pacemakers. Generate slow waves = basic electrical rhythm."
            },
            {
                id: 42,
                topic: "Gastrointestinal Motility",
                question: "Which part of the GI tract has the highest frequency of slow waves?",
                options: [
                    "Stomach",
                    "Duodenum",
                    "Ileum",
                    "Colon"
                ],
                correct: 1,
                explanation: "The duodenum has the highest frequency of slow waves at 12 waves per minute. The stomach has the lowest at 3 waves per minute, and the ileum has 9 waves per minute.",
                tip: "Slow wave frequency: Duodenum (12/min) > Ileum (9/min) > Stomach (3/min)."
            },
            {
                id: 43,
                topic: "Gastrointestinal Motility",
                question: "Which phase of swallowing is under voluntary control?",
                options: [
                    "Oral phase",
                    "Pharyngeal phase",
                    "Esophageal phase",
                    "All phases are involuntary"
                ],
                correct: 0,
                explanation: "The oral phase of swallowing is voluntary. Once the swallowing reflex is initiated, the pharyngeal and esophageal phases are involuntary and controlled by the medullary swallowing center.",
                tip: "Swallowing: Oral = voluntary, Pharyngeal & Esophageal = involuntary (medullary control)."
            },
            {
                id: 44,
                topic: "Gastrointestinal Motility",
                question: "What is the function of the lower esophageal sphincter (LES)?",
                options: [
                    "Prevents air from entering the esophagus",
                    "Prevents gastric contents from refluxing into the esophagus",
                    "Regulates passage of food into the duodenum",
                    "Controls defecation"
                ],
                correct: 1,
                explanation: "The lower esophageal sphincter (LES) prevents gastric contents from refluxing into the esophagus. It remains tonically contracted except during swallowing, when it relaxes to allow food passage.",
                tip: "LES = anti-reflux barrier. Tonic contraction prevents acid reflux. Relaxes during swallowing."
            },
            {
                id: 45,
                topic: "Gastrointestinal Motility",
                question: "Which neurotransmitter mediates relaxation of the lower esophageal sphincter (LES)?",
                options: [
                    "Acetylcholine",
                    "Norepinephrine",
                    "VIP (Vasoactive Intestinal Peptide)",
                    "Substance P"
                ],
                correct: 2,
                explanation: "VIP (Vasoactive Intestinal Peptide) mediates relaxation of the LES during swallowing. This allows the food bolus to enter the stomach.",
                tip: "VIP relaxes LES (and causes receptive relaxation of stomach)."
            },
            {
                id: 46,
                topic: "Gastrointestinal Motility",
                question: "Which region of the stomach is responsible for receptive relaxation?",
                options: [
                    "Caudad region",
                    "Orad region",
                    "Pyloric region",
                    "Fundic region"
                ],
                correct: 1,
                explanation: "The orad (proximal) region of the stomach undergoes receptive relaxation when food enters, allowing accommodation without significant pressure increase. The caudad (distal) region has strong mixing contractions.",
                tip: "Orad = upper stomach, thin-walled, receptive relaxation. Caudad = lower stomach, thick-walled, strong contractions."
            },
            {
                id: 47,
                topic: "Gastrointestinal Motility",
                question: "What is the term for the backward movement of gastric contents that weren't propelled into the duodenum?",
                options: [
                    "Retropulsion",
                    "Receptive relaxation",
                    "Peristalsis",
                    "Segmentation"
                ],
                correct: 0,
                explanation: "Retropulsion is the backward movement of gastric contents that were not propelled through the pylorus into the duodenum. This allows further mixing and grinding of food in the stomach.",
                tip: "Retropulsion = 'pushing back' for more mixing. Important for mechanical digestion in stomach."
            },
            {
                id: 48,
                topic: "Gastrointestinal Motility",
                question: "Which of the following slows gastric emptying?",
                options: [
                    "High carbohydrate meal",
                    "High protein meal",
                    "High fat meal",
                    "Isotonic fluids"
                ],
                correct: 2,
                explanation: "High fat meals slow gastric emptying the most, mediated by CCK release. Carbohydrates empty fastest, then proteins, then fats slowest.",
                tip: "Gastric emptying speed: Carbs > Proteins > Fats (slowest). Fats trigger CCK which slows emptying."
            },
            {
                id: 49,
                topic: "Gastrointestinal Motility",
                question: "What is the primary pattern of contraction in the small intestine during digestion?",
                options: [
                    "Migrating myoelectric complexes",
                    "Mass movements",
                    "Segmentation",
                    "Tonic contraction"
                ],
                correct: 2,
                explanation: "Segmentation is the primary pattern of contraction in the small intestine during digestion. It mixes chyme with digestive enzymes and exposes nutrients to the mucosa for absorption.",
                tip: "Segmentation = mixing contractions in small intestine. MMCs = between meals. Mass movements = in colon."
            },
            {
                id: 50,
                topic: "Gastrointestinal Motility",
                question: "Which reflex is triggered by gastric distension and increases colonic motility?",
                options: [
                    "Enterogastric reflex",
                    "Gastrocolic reflex",
                    "Ileogastric reflex",
                    "Coloileal reflex"
                ],
                correct: 1,
                explanation: "The gastrocolic reflex is triggered by gastric distension and increases colonic motility, often leading to the urge to defecate after a meal.",
                tip: "Gastrocolic reflex = stomach to colon. Makes room for new food by moving old contents."
            },
            {
                id: 51,
                topic: "Gastrointestinal Motility",
                question: "What is the frequency of migrating myoelectric complexes (MMCs) in the stomach?",
                options: [
                    "Every 15 minutes",
                    "Every 30 minutes",
                    "Every 90 minutes",
                    "Every 4 hours"
                ],
                correct: 2,
                explanation: "Migrating myoelectric complexes (MMCs) occur approximately every 90 minutes during fasting. They sweep residual food and secretions from the stomach through the small intestine.",
                tip: "MMCs = 'housekeeping waves' every 90 minutes between meals. Clears the gut."
            },
            {
                id: 52,
                topic: "Gastrointestinal Motility",
                question: "Which part of the vomiting reflex is triggered by signals from the vestibular system?",
                options: [
                    "Gastrointestinal tract signals",
                    "Chemoreceptor trigger zone",
                    "Back of the throat signals",
                    "Motion sickness"
                ],
                correct: 3,
                explanation: "Motion sickness triggers vomiting through signals from the vestibular system (inner ear). Other triggers include GI tract irritation (via vagus), back of throat stimulation (gag reflex), and chemicals (via chemoreceptor trigger zone).",
                tip: "Vomiting triggers: 1) GI irritation (vagus), 2) Throat stimulation, 3) Vestibular (motion), 4) Chemoreceptor zone (toxins/drugs)."
            },
            {
                id: 53,
                topic: "Gastrointestinal Motility",
                question: "What is the primary function of mass movements in the colon?",
                options: [
                    "Mixing of contents",
                    "Absorption of water",
                    "Propulsion over long distances",
                    "Storage of feces"
                ],
                correct: 2,
                explanation: "Mass movements in the colon propel contents over long distances, typically 1-3 times per day. They move fecal content into the rectum for storage until defecation.",
                tip: "Mass movements = long distance propulsion in colon, 1-3 times/day. Segmentation = local mixing."
            },
            {
                id: 54,
                topic: "Gastrointestinal Motility",
                question: "Which sphincter prevents reflux from the colon into the ileum?",
                options: [
                    "Pyloric sphincter",
                    "Lower esophageal sphincter",
                    "Ileocecal sphincter",
                    "Internal anal sphincter"
                ],
                correct: 2,
                explanation: "The ileocecal sphincter prevents reflux from the colon into the ileum. It regulates the passage of ileal contents into the cecum.",
                tip: "Ileocecal sphincter = between small and large intestine. Prevents colonic bacteria from entering ileum."
            },
            {
                id: 55,
                topic: "Gastrointestinal Motility",
                question: "What happens during the repolarization phase of a slow wave?",
                options: [
                    "Ca2+ channels open, causing depolarization",
                    "K+ channels open, causing repolarization",
                    "Na+ channels open, causing action potential",
                    "Cl- channels open, causing hyperpolarization"
                ],
                correct: 1,
                explanation: "During the repolarization phase of a slow wave, K+ channels open, producing an outward flow of K+ that repolarizes the membrane (makes it more negative).",
                tip: "Slow wave phases: 1) Depolarization (Ca2+ in), 2) Plateau (Ca2+ stays in), 3) Repolarization (K+ out)."
            },
            // Section 5: Secretion (15 questions)
            {
                id: 56,
                topic: "Secretion",
                question: "Which enzyme in saliva initiates carbohydrate digestion?",
                options: [
                    "Lysozyme",
                    "Lingual lipase",
                    "Salivary amylase",
                    "Mucin"
                ],
                correct: 2,
                explanation: "Salivary amylase (ptyalin) initiates carbohydrate digestion in the mouth by breaking down starch into maltose. It continues to work in the stomach until inactivated by acid.",
                tip: "Salivary amylase = starch digestion starts in mouth. Works at pH 6-7, inactivated by gastric acid."
            },
            {
                id: 57,
                topic: "Secretion",
                question: "What is the effect of high flow rate on saliva composition?",
                options: [
                    "Saliva becomes more hypotonic",
                    "Saliva becomes more similar to plasma",
                    "Saliva has more K+ and HCO3-",
                    "Saliva becomes hypertonic"
                ],
                correct: 1,
                explanation: "High flow rate reduces contact time for modification in ductal cells, so saliva remains more similar to plasma (less hypotonic). Low flow rate allows more modification, making saliva more hypotonic.",
                tip: "Saliva: High flow = less modification = more like plasma. Low flow = more modification = more hypotonic."
            },
            {
                id: 58,
                topic: "Secretion",
                question: "Which enzyme in parietal cells produces H+ and HCO3- from CO2 and water?",
                options: [
                    "ATPase",
                    "Carbonic anhydrase",
                    "Pepsinogen",
                    "Amylase"
                ],
                correct: 1,
                explanation: "Carbonic anhydrase in parietal cells catalyzes the reaction: CO2 + H2O ↔ H2CO3 ↔ H+ + HCO3-. H+ is secreted into the lumen, HCO3- is absorbed into blood.",
                tip: "Carbonic anhydrase = key enzyme for acid secretion. Produces H+ (secreted) and HCO3- (absorbed as 'alkaline tide')."
            },
            {
                id: 59,
                topic: "Secretion",
                question: "What is the 'alkaline tide' observed in gastric venous blood after a meal?",
                options: [
                    "Increased H+ concentration",
                    "Increased HCO3- concentration",
                    "Decreased pH",
                    "Increased Cl- concentration"
                ],
                correct: 1,
                explanation: "The 'alkaline tide' is the increased pH (due to increased HCO3-) in gastric venous blood after a meal, resulting from HCO3- absorption when parietal cells secrete H+.",
                tip: "Alkaline tide = increased blood pH from HCO3- absorption during acid secretion. Countercurrent to gastric lumen acidity."
            },
            {
                id: 60,
                topic: "Secretion",
                question: "Which cells secrete pepsinogen in the stomach?",
                options: [
                    "Parietal cells",
                    "G cells",
                    "Mucous cells and chief cells",
                    "Enterochromaffin-like cells"
                ],
                correct: 2,
                explanation: "Pepsinogen is secreted by mucous cells (in cardiac and pyloric glands) and chief cells (in fundic glands). It is converted to active pepsin by gastric acid.",
                tip: "Pepsinogen from chief/mucous cells → activated by HCl to pepsin (protein digestion)."
            },
            {
                id: 61,
                topic: "Secretion",
                question: "What is the only essential secretion of the stomach?",
                options: [
                    "HCl",
                    "Pepsinogen",
                    "Intrinsic factor",
                    "Mucus"
                ],
                correct: 2,
                explanation: "Intrinsic factor is the only essential secretion of the stomach because it is required for vitamin B12 absorption in the ileum. Deficiency causes pernicious anemia.",
                tip: "Intrinsic factor = essential for B12 absorption. Without it → pernicious anemia (even if B12 in diet)."
            },
            {
                id: 62,
                topic: "Secretion",
                question: "Which hormone primarily stimulates pancreatic enzyme secretion?",
                options: [
                    "Secretin",
                    "Cholecystokinin (CCK)",
                    "Gastrin",
                    "GIP"
                ],
                correct: 1,
                explanation: "CCK primarily stimulates pancreatic enzyme secretion (amylase, lipase, proteases). Secretin primarily stimulates pancreatic bicarbonate secretion.",
                tip: "CCK → pancreatic enzymes. Secretin → pancreatic bicarbonate. Remember: CCK for enzymes, Secretin for bicarbonate."
            },
            {
                id: 63,
                topic: "Secretion",
                question: "What is the effect of increasing flow rate on pancreatic secretion composition?",
                options: [
                    "Becomes richer in enzymes",
                    "Becomes richer in bicarbonate",
                    "Becomes isotonic",
                    "Becomes hypertonic"
                ],
                correct: 1,
                explanation: "Increasing flow rate increases the bicarbonate concentration in pancreatic secretion (makes it more alkaline). At low flow rates, pancreatic secretion has more Cl- and less HCO3-.",
                tip: "Pancreatic juice: High flow = high HCO3- (alkaline). Low flow = high Cl-."
            },
            {
                id: 64,
                topic: "Secretion",
                question: "What is the primary stimulus for bile ejection from the gallbladder?",
                options: [
                    "Secretin",
                    "Cholecystokinin (CCK)",
                    "Gastrin",
                    "Vagal stimulation"
                ],
                correct: 1,
                explanation: "CCK is the primary stimulus for gallbladder contraction and bile ejection. It also causes relaxation of the sphincter of Oddi, allowing bile to enter the duodenum.",
                tip: "CCK = gallbladder contraction + sphincter of Oddi relaxation = bile ejection."
            },
            {
                id: 65,
                topic: "Secretion",
                question: "What is the primary function of bile salts?",
                options: [
                    "Digestion of proteins",
                    "Digestion of carbohydrates",
                    "Emulsification of lipids",
                    "Neutralization of acid"
                ],
                correct: 2,
                explanation: "Bile salts emulsify dietary lipids, breaking them into small droplets to increase surface area for lipase action. They also form micelles for absorption of lipid digestion products.",
                tip: "Bile salts = lipid emulsifiers. They don't digest lipids but prepare them for digestion by lipase."
            },
            {
                id: 66,
                topic: "Secretion",
                question: "Where are bile salts reabsorbed for enterohepatic circulation?",
                options: [
                    "Duodenum",
                    "Jejunum",
                    "Ileum",
                    "Colon"
                ],
                correct: 2,
                explanation: "Bile salts are actively reabsorbed in the terminal ileum and returned to the liver via the portal vein for re-secretion (enterohepatic circulation).",
                tip: "Bile salts recycled: Liver → Bile → Intestine → Ileal reabsorption → Portal vein → Liver."
            },
            {
                id: 67,
                topic: "Secretion",
                question: "Which phase of gastric secretion is triggered by the sight, smell, or thought of food?",
                options: [
                    "Cephalic phase",
                    "Gastric phase",
                    "Intestinal phase",
                    "Basal phase"
                ],
                correct: 0,
                explanation: "The cephalic phase is triggered by the sight, smell, thought, or taste of food. It is mediated by vagal stimulation and prepares the stomach for food arrival.",
                tip: "Cephalic phase = 'head phase' = anticipation of food. Vagal stimulation → acid and pepsinogen secretion."
            },
            {
                id: 68,
                topic: "Secretion",
                question: "Which substance directly inhibits parietal cells to reduce acid secretion?",
                options: [
                    "Histamine",
                    "Acetylcholine",
                    "Gastrin",
                    "Somatostatin"
                ],
                correct: 3,
                explanation: "Somatostatin directly inhibits parietal cells to reduce acid secretion. It also inhibits G cells (reducing gastrin) and ECL cells (reducing histamine).",
                tip: "Somatostatin = universal inhibitor of GI secretion. Inhibits acid, gastrin, histamine, and other hormones."
            },
            {
                id: 69,
                topic: "Secretion",
                question: "What is the primary ion exchanged for HCO3- when it leaves the parietal cell?",
                options: [
                    "Na+",
                    "K+",
                    "Cl-",
                    "Ca2+"
                ],
                correct: 2,
                explanation: "HCO3- leaves the parietal cell in exchange for Cl- via a Cl-/HCO3- exchanger (antiporter). This Cl- then exits into the lumen through channels, accompanying H+.",
                tip: "Parietal cell: HCO3- out (to blood) in exchange for Cl- in. Cl- then secreted with H+ as HCl."
            },
            {
                id: 70,
                topic: "Secretion",
                question: "Which pancreatic enzyme is secreted in an inactive form to prevent autodigestion?",
                options: [
                    "Pancreatic amylase",
                    "Pancreatic lipase",
                    "Trypsinogen",
                    "Ribonuclease"
                ],
                correct: 2,
                explanation: "Trypsinogen is secreted in inactive form and activated to trypsin by enterokinase in the duodenum. This prevents pancreatic autodigestion. Trypsin then activates other proteases.",
                tip: "Pancreatic proteases secreted as zymogens (inactive). Trypsinogen → trypsin (by enterokinase) → activates other proteases."
            }
        ];

        // Initialize variables
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let score = 0;
        let examStarted = false;
        let startTime = null;
        let endTime = null;

        // DOM elements
        const questionScreen = document.getElementById('question-screen');
        const resultScreen = document.getElementById('result-screen');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackContainer = document.getElementById('feedback-container');
        const feedbackText = document.getElementById('feedback-text');
        const explanationText = document.getElementById('explanation-text');
        const tipText = document.getElementById('tip-text');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const restartBtn = document.getElementById('restart-btn');
        const qNum = document.getElementById('q-num');
        const qTopic = document.getElementById('q-topic');
        const currentQuestionSpan = document.getElementById('current-question');
        const totalQuestionsSpan = document.getElementById('total-questions');
        const progressFill = document.getElementById('progress-fill');
        const finalScore = document.getElementById('final-score');
        const resultMessage = document.getElementById('result-message');
        const totalQuestionsResult = document.getElementById('total-questions-result');
        const correctAnswers = document.getElementById('correct-answers');
        const incorrectAnswers = document.getElementById('incorrect-answers');
        const accuracy = document.getElementById('accuracy');
        const timeSpent = document.getElementById('time-spent');

        // Initialize exam
        function initExam() {
            totalQuestionsSpan.textContent = questions.length;
            totalQuestionsResult.textContent = questions.length;
            startTime = new Date();
            loadQuestion(currentQuestionIndex);
            updateProgress();
        }

        // Load question
        function loadQuestion(index) {
            const question = questions[index];
            qNum.textContent = question.id;
            qTopic.textContent = question.topic;
            currentQuestionSpan.textContent = index + 1;
            questionText.textContent = question.question;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Add new options
            const letters = ['A', 'B', 'C', 'D'];
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                if (userAnswers[index] === i) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.innerHTML = `
                    <div class="option-letter">${letters[i]}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(i));
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide feedback
            feedbackContainer.classList.remove('show');
            
            // Update buttons
            prevBtn.disabled = index === 0;
            
            if (index === questions.length - 1) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'block';
            } else {
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
            }
            
            updateProgress();
        }

        // Select option
        function selectOption(optionIndex) {
            // Remove selected class from all options
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            document.querySelectorAll('.option')[optionIndex].classList.add('selected');
            
            // Store answer
            userAnswers[currentQuestionIndex] = optionIndex;
            
            // Show feedback immediately
            showFeedback();
        }

        // Show feedback
        function showFeedback() {
            const question = questions[currentQuestionIndex];
            const userAnswer = userAnswers[currentQuestionIndex];
            const isCorrect = userAnswer === question.correct;
            
            // Update option colors
            document.querySelectorAll('.option').forEach((opt, i) => {
                if (i === question.correct) {
                    opt.classList.add('correct');
                } else if (i === userAnswer && userAnswer !== question.correct) {
                    opt.classList.add('incorrect');
                }
            });
            
            // Set feedback text
            if (isCorrect) {
                feedbackText.innerHTML = `<span style="color: #4CAF50; font-weight: bold;">Correct!</span> You selected the right answer.`;
            } else {
                feedbackText.innerHTML = `<span style="color: #f44336; font-weight: bold;">Incorrect.</span> The correct answer is ${String.fromCharCode(65 + question.correct)}.`;
            }
            
            explanationText.textContent = question.explanation;
            tipText.textContent = question.tip;
            
            // Show feedback container
            feedbackContainer.classList.add('show');
        }

        // Next question
        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
            }
        });

        // Previous question
        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
            }
        });

        // Submit exam
        submitBtn.addEventListener('click', () => {
            endTime = new Date();
            calculateScore();
            showResults();
        });

        // Calculate score
        function calculateScore() {
            score = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === questions[index].correct) {
                    score++;
                }
            });
        }

        // Show results
        function showResults() {
            questionScreen.style.display = 'none';
            resultScreen.style.display = 'block';
            
            const percentage = Math.round((score / questions.length) * 100);
            finalScore.textContent = `${percentage}%`;
            
            // Set result message based on score
            if (percentage >= 90) {
                resultMessage.textContent = "Outstanding! You have excellent knowledge of gastrointestinal physiology.";
            } else if (percentage >= 80) {
                resultMessage.textContent = "Great job! You have a strong understanding of GI tract physiology.";
            } else if (percentage >= 70) {
                resultMessage.textContent = "Good work! You have a solid foundation in GI physiology.";
            } else if (percentage >= 60) {
                resultMessage.textContent = "Not bad! You have basic understanding but should review some concepts.";
            } else {
                resultMessage.textContent = "Keep studying! Review the material and try again.";
            }
            
            // Calculate time spent
            const timeDiff = endTime - startTime;
            const minutes = Math.floor(timeDiff / 60000);
            const seconds = Math.floor((timeDiff % 60000) / 1000);
            
            // Update result stats
            correctAnswers.textContent = score;
            incorrectAnswers.textContent = questions.length - score;
            accuracy.textContent = `${percentage}%`;
            timeSpent.textContent = `${minutes} min ${seconds} sec`;
        }

        // Restart exam
        restartBtn.addEventListener('click', () => {
            // Reset variables
            currentQuestionIndex = 0;
            userAnswers = new Array(questions.length).fill(null);
            score = 0;
            startTime = new Date();
            
            // Show question screen
            resultScreen.style.display = 'none';
            questionScreen.style.display = 'block';
            
            // Reload first question
            loadQuestion(currentQuestionIndex);
        });

        // Update progress
        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressFill.style.width = `${progress}%`;
        }

        // Initialize the exam when page loads
        window.addEventListener('DOMContentLoaded', initExam);
    </script>
</body>
    </html>
